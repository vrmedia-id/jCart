$(function(){(function(){function t(){var t=$("#jcart-total").val();t=$.trim(t),$("#jcart-count").text(t)}function e(e){var a=e.find("[name="+c.item.qty+"]"),r=e.find("[name="+c.item.add+"]");e.find("[name="+c.item.id+"]");a.val()<1?Swal.fire({icon:"error",title:""+c.text.quantityError,showConfirmButton:!1,timer:1500}):$.ajax({data:e.serialize()+"&"+c.item.add+"="+r.val(),success:function(e){a.val()>0&&($(r).addClass("loading"),setTimeout(function(){Swal.fire({icon:"success",title:""+c.text.itemAdded,showConfirmButton:!1,timer:1500}),$(r).removeClass("loading"),o.html(e),t()},2500)),$("#jcart-buttons").remove()}})}function a(t){var e=t.parent().find('[name="jcartItemId[]"]').val(),a=t.val();if(a)var r=window.setTimeout(function(){$.ajax({data:{jcartUpdate:1,itemId:e,itemQty:a,jcartIsCheckout:u,jcartToken:i}})},1e3);t.keydown(function(t){9!==t.which&&window.clearTimeout(r)})}function r(t){var e=t.attr("href");e=e.split("=");var a=e[1];$.ajax({type:"GET",data:{jcartRemove:a,jcartIsCheckout:u}})}t();var n="jcart",o=$("#jcart"),i=$("[name=jcartToken]").val(),c=($("#jcart-tooltip"),function(){var t=null;return $.ajax({url:n+"/config-loader.php",data:{ajax:"true"},dataType:"json",async:!1,success:function(e){t=e},error:function(){alert("Ajax error: Edit the path in jcart.js to fix.")}}),t}()),u=(c.tooltip,$("#jcart-buttons").remove(),$.ajaxSetup({type:"POST",url:n+"/relay.php",success:function(e){o.html(e),$("#jcart-buttons").remove(),t()},error:function(t,e){var a=t.status,r="Ajax error: ";0===a&&(r+="Check your network connection."),404!==a&&500!==a||(r+=a),"parsererror"!==e&&"timeout"!==e||(r+=e),alert(r)}}),$("#jcart-is-checkout").val());$(".jcart").submit(function(t){e($(this)),t.preventDefault()}),o.keydown(function(t){13===t.which&&t.preventDefault()}),o.delegate('[name="jcartItemQty[]"]',"keyup mouseup",function(){a($(this)),setTimeout(function(){Swal.fire(""+c.text.update,"Your product has been "+c.text.update+".","success")},1e3)}),o.delegate(".jcart-remove","click",function(t){Swal.fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete"}).then(t=>{t.isConfirmed&&(Swal.fire("Deleted!","Your product has been deleted.","success"),r($(this)))}),t.preventDefault()})})()});